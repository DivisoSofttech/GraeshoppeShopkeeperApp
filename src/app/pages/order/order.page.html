<ion-header>
  <ion-toolbar>
      <ion-menu-button slot="start" auto-hide="true"></ion-menu-button>
        <ion-title>Order</ion-title>
        <ion-buttons slot="end">
          <!-- Sunmi Printer Test -->
          <!-- <ion-button (click)="print()">
            <ion-icon slot="icon-only" name="print" ></ion-icon>
          </ion-button> -->
          <ion-button (click)="openNotificationModal()">
            <ion-icon class="icon" name="notifications"></ion-icon>
          </ion-button>
          <ion-badge *ngIf="notificationCount != 0" id="notifications-badge" color="danger">{{notificationCount}}</ion-badge>
        </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-fab data-desc="Category" (click)="showFoo()" vertical="bottom" horizontal="start" slot="fixed">
  <ion-fab-button>
      <ion-icon name="funnel"></ion-icon>
  </ion-fab-button>
  <ion-fab-list side="end">
    <ion-buttons>
    <ion-button [ngClass]="{ 'btn-color' :deliveryType=='all' }" (click)="filter('all')">All
    </ion-button>
    <ion-button [ngClass]="{ 'btn-color' :deliveryType=='delivery' }" (click)="filter('delivery')" class="button-border">Delivery
    </ion-button>
    <ion-button [ngClass]="{ 'btn-color' :deliveryType=='collection' }" (click)="filter('collection')" class="button-border">Collection
    </ion-button>
  </ion-buttons>
  </ion-fab-list>
</ion-fab>
<ion-content>
  <!--Segment Button Container Start-->
  <div>
      <ion-segment (ionChange)="segmentChange($event)" [value]="currentPage" color="secondary">
        <ion-segment-button value="pending">
          <ion-label>Pending</ion-label>
        </ion-segment-button>
        <ion-segment-button value="confirmed">
          <ion-label>Confirmed</ion-label>
        </ion-segment-button>
        <ion-segment-button value="completed">
          <ion-label>Completed</ion-label>
        </ion-segment-button>
      </ion-segment>
    </div>
    <!--Segment Button Container End-->

    <ion-slides  #slides (ionSlideDidChange)="slideChange()">

        <ion-slide *ngIf="showPending">
         <div class="slideContent">
          <ion-list class="order-card-view" justify-content-center *ngFor="let okey of pendingOrdersSortedKeys">
            <ion-list-header color="secondary">
              <ion-label>{{okey | titlecase}}</ion-label>
            </ion-list-header>
            <div class="mg-top">
                <ion-label *ngIf="pendingOrdersSorted[okey].length === 0">No Orders</ion-label>
            </div>
            <app-order-card *ngFor="let order  of pendingOrdersSorted[okey]"  class="vertical-align-center" [orderType]='"pending"' (accept)="orderAccepted(order , okey)"  [order]="order"></app-order-card>
          </ion-list>
         </div>
        </ion-slide>

        <ion-slide>
          <div class="slideContent">
              <ion-list justify-content-center *ngFor="let okey of confirmedOrdersSortedKeys">
                  <ion-list-header color="secondary">
                    <ion-label>
                      <b>{{okey | titlecase}}</b>
                    </ion-label>
                  </ion-list-header>    
                  <div class="mg-top">
                      <ion-label *ngIf="confirmedOrdersSorted[okey].length === 0">No Orders</ion-label>
                  </div>
                  <app-order-card *ngFor="let order  of confirmedOrdersSorted[okey]" class="vertical-align-center" [orderType]='"confirmed"' (completed)="orderCompleted(order , okey)" [order]="order"></app-order-card>
                </ion-list>      
          </div>
        </ion-slide>
 
        <ion-slide>
          <div class="slideContent">
            <ion-list justify-content-center *ngFor="let okey of completedOrdersSortedKeys">
                <ion-list-header color="secondary">
                  <ion-label>
                    <b>{{okey | titlecase}}</b>
                  </ion-label>
                </ion-list-header>    
                <div class="mg-top">
                    <ion-label *ngIf="completedOrdersSorted[okey].length === 0">No Orders</ion-label>
                </div>
                <app-order-card *ngFor="let order  of completedOrdersSorted[okey]" [orderType]='"completed"' class="vertical-align-center"  [order]="order"></app-order-card>
              </ion-list>      
        </div>
        </ion-slide>
        
        </ion-slides>
        <ion-infinite-scroll threshold="100px" (ionInfinite)="loadMore()">
          <ion-infinite-scroll-content
            loadingSpinner="bubbles"
            loadingText="Loading more data...">
          </ion-infinite-scroll-content>
        </ion-infinite-scroll>
        <ion-refresher slot="fixed" (ionRefresh)="refresh($event)">
          <ion-refresher-content
            pullingIcon="arrow-dropdown"
            pullingText="Pull to refresh"
            refreshingSpinner="circles"
            refreshingText="Refreshing...">
          </ion-refresher-content>
        </ion-refresher>
  </ion-content>
  

  <ion-footer *ngIf="showFooter"  class="hieght">
    
  </ion-footer>
  